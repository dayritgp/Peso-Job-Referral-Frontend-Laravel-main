<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!--=============== ICONS ===============-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">

  <!--=============== CSS ===============-->
  <link rel="stylesheet" href="css/jobseeker/styles.css">
  <link rel="stylesheet" href="css/jobseeker/jobseeker_dashboard.css">
  

  <!--=============== DATA TABLES PLUGINS ===============-->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.2/css/buttons.dataTables.min.css">

  <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
  <script src=" https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src=" https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.colVis.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Faker/3.1.0/faker.min.js"></script> <!-- Faker.js -->

  <title>Public Employment Service Office | PESO-Gensan</title>
  <link rel="icon" href="../../images/jobseeker/PESO LOGO NEW.png">
</head>
<style>

</style>

<body>
  <!--=============== HEADER ===============-->
  <header class="header">
    <nav class="nav container">
      <div class="nav__data">
        <a href="#" class="nav__logo">
          <img src="../../images/jobseeker/PESO LOGO NEW.png" width="50px;">
          <h3>PESO JobPortal</h3>
        </a>

        <div class="nav__toggle" id="nav-toggle">
          <i class="ri-menu-line nav__burger"></i>
          <i class="ri-close-line nav__close"></i>
        </div>
      </div>

      <!--=============== NAV MENU ===============-->
      <div class="nav__menu" id="nav-menu">
        <ul class="nav__list">
          <li><a href="jobseeker.html" class="nav__link">Home</a></li>

          <li class="dropdown__item">
            <div class="nav__link">
              Find <i class="ri-arrow-down-s-line dropdown__arrow"></i>
            </div>

            <ul class="dropdown__menu">
              <li>
                <a href="jobseeker_jobsearch.html" class="dropdown__link">
                  <i class="ri-briefcase-line"></i> Job
                </a>
              </li>

              <li>
                <a href="jobseeker_company.html" class="dropdown__link">
                  <i class="ri-building-4-fill"></i> Company
                </a>
              </li>
            </ul>
          </li>

          <li><a href="jobseeker_dashboard.html" class="nav__link">Dashboard</a></li>
          <li><a href="#" class="nav__link">User'sGuide</a></li>

          <li><a href="#" class="nav__link">About</a></li>

          <li class="dropdown__item">
            <div class="nav__link">
              <div class="profile-info">
                <img src="../../images/jobseeker/profile.png" alt="Profile Image" class="profile-image">


                Juan Dela Cruz <i class="ri-arrow-down-s-line dropdown__arrow"></i>
              </div>
            </div>

            <ul class="dropdown__menu">
              <li>
                <a href="jobseeker_view_profile.html" class="dropdown__link">
                  <i class="ri-account-circle-line"></i> View Profile
                </a>
              </li>

              <li>
                <a href="jobseeker_requirements.html" class="dropdown__link">
                  <i class="ri-survey-line"></i> NSRP&nbsp;Form&nbsp;1
                </a>
              </li>
              <li>
                <a href="jobseeker_account.html" class="dropdown__link">
                  <i class="ri-lock-2-line"></i> Manage&nbsp;Account
                </a>
              </li>
              <li>
                <a href="index.html" class="dropdown__link">
                  <i class="ri-logout-box-r-line"></i> Logout
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <!-- ====================== START DASHBOARD =======================-->
  <div class="container1">
    <div class="sidebar">
      <h2>Jobseeker</h2>
      <ul>
        <li><a href="#dashboard"><i class='bx bx-grid-alt'></i>&nbsp;Dashboard</a></li>
        <li><a href="#applications">My Applications</a></li>
        <li><a href="#notifications">Notifications<span class="notification-badge">2</span></a></li>
        <li><a href="#recent">Recently Viewed</a></li>
      </ul>
    </div>
    <div class="content">
      <div id="dashboard">
        <h2>Dashboard</h2>
        <div class="home-content">
          <div id="dashboard">
            <div class="overview-boxes">
              <div class="box">
                <div class="right-side">
                  <div class="box-topic">Job Matches</div>
                  <div class="number">42</div>
                  <div class="indicator">
                    <i class="bx bx-up-arrow-alt"></i>
                    <span class="text">Up from yesterday</span>
                  </div>
                </div>
                <i class="bx bx-file cart"></i>
              </div>
              <div class="box">
                <div class="right-side">
                  <div class="box-topic">New Job Applied</div>
                  <div class="number">531</div>
                  <div class="indicator">
                    <i class="bx bx-up-arrow-alt"></i>
                    <span class="text">Up from yesterday</span>
                  </div>
                </div>
                <i class="bx bxs-file cart two"></i>
              </div>
              <div class="box">
                <div class="right-side">
                  <div class="box-topic">Total Vacancies &nbsp;</div>
                  <div class="number">340</div>
                  <div class="indicator">
                    <i class="bx bx-up-arrow-alt"></i>
                    <span class="text">Up from yesterday</span>
                  </div>
                </div>
                <i class="bx bx-file cart three"></i>
              </div>
              <div class="box">
                <div class="right-side">
                  <div class="box-topic">No. of Invitations</div>
                  <div class="number">100</div>
                  <div class="indicator">
                    <i class="bx bx-up-arrow-alt"></i>
                    <span class="text">Up from yesterday</span>
                  </div>
                </div>
                <i class="bx bx-file cart four"></i>
              </div>
              <div class="box">
                <div class="right-side">
                  <div class="box-topic">Pending Appli..</div>
                  <div class="number">100</div>
                  <div class="indicator">
                    <i class="bx bx-up-arrow-alt"></i>
                    <span class="text">Up from yesterday</span>
                  </div>
                </div>
                <i class="bx bx-file cart four"></i>
              </div>
              <div class="box">
                <div class="right-side">
                  <div class="box-topic">Interview</div>
                  <div class="number">100</div>
                  <div class="indicator">
                    <i class="bx bx-up-arrow-alt"></i>
                    <span class="text">Up from yesterday</span>
                  </div>
                </div>
                <i class="bx bx-file cart four"></i>
              </div>
            </div>
          </div>

        </div>
      </div>
      <!-- ====================== END DASHBOARD =======================-->

      <!-- ====================== VIEW APPLICATIONS =======================-->
      <div id="applications" style="display: none;">
        <h2>My Applications</h2>
        <div class="table-container">
          <table id="dashboardjobs" class="display" style="width:100%">
            <thead>
              <tr>
                <th>Job Title/Position</th>
                <th>Company</th>
                <th>Job Match</th>
                <th>Date Interview</th>
                <th>Date Hired</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>

            </thead>
            <tbody>

              <tr>
                <td>Computer Programmer</td>
                <td>ABC Comany</td>
                <td>Yes</td>
                <td>2024-01-15</td>
                <td>2024-01-15 </td>
                <td>For Interview</td>
                <td>
                  <button class="view-user" data-modal="myModal"><i class="fas fa-user"></i></button>
                  <button class="cancel-button"><i class="fas fa-times"></i></button>
                </td>
              </tr>
              <tr>
                <td>Software Engineer</td>
                <td>ABC Company</td>
                <td>Yes</td>
                <td>04/24/24</td>
                <td>2024-01-15</td>
                <td>On Hold</td>
                <td>
                  <button class="view-user" data-modal="myModal"><i class="fas fa-user"></i></button>
                  <button class="cancel-button"><i class="fas fa-times"></i></button>
                </td>
              </tr>

            </tbody>
          </table>
          <script>

            function generateFakeList(length) {
              const fakeList = [];
              for (let i = 0; i < length; i++) {
                fakeList.push({
                  company: faker.company.companyName(),
                  name: faker.name.findName(),
                  match: "Yes",
                  position: faker.name.jobTitle(),
                  date: faker.date.past().toLocaleDateString(),
                  status: "On Hold"
                });
              }
              return fakeList;
            }

            function populateTable(data) {
              const tableBody = document.querySelector('#dashboardjobs tbody');
              data.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                  <td>${item.position}</td>
                  <td>${item.company}</td>
                  <td>${item.match}</td>
                  <td>${item.date}</td>
                  <td>${item.date}</td>
                  <td>${item.status}</td>  
                  <td><button class="view-user" data-modal="myModal"><i class="fas fa-user"></i></button>
                  <button class="cancel-button"><i class="fas fa-times"></i></button></td>
                `;
                tableBody.appendChild(row);
              });
            }

            // Example usage:
            const fakeData = generateFakeList(5); // Generates a fake list with 5 entries
            populateTable(fakeData);
          </script>
        </div>
      </div>

      <!-- ====================== END VIEW APPLICATIONS =======================-->

      <!-- The Modal -->
      <div id="myModal" class="modal">

        <!-- Modal content -->
        <div class="modal-content">
          <span class="close">&times;</span>
          <div class="logo">
            <img src="../../images/jobseeker/PESO LOGO NEW.png" alt="Logo">

          </div>
          <div class="modal-text">
            <h2>Software Engineer</h2>
            <p>ABC Company</p>
          </div>
          <div class="button-row">
            <a href="jobseeker_searchjob.html"><button class="view-button1"><i class="fas fa-screwdriver"></i> Job
                Description</button></a>
            <a href="jobseeker_searchjob.html"><button class="view-button1"><i class="fas fa-info-circle"></i> More
                Information</button></a>
          </div>
        </div>
      </div>

      <script>
        // Get all elements with class "view-user"
        var viewUserButtons = document.querySelectorAll(".view-user");

        // Loop through each button to attach modal functionality
        viewUserButtons.forEach(function (button) {
          // Get the modal ID from the button's data-modal attribute
          var modalId = button.dataset.modal;
          // Get the modal corresponding to the button
          var modal = document.getElementById(modalId);
          // Get the <span> element that closes the modal
          var span = modal.querySelector(".close");

          // When the user clicks the button, open the modal
          button.onclick = function () {
            modal.style.display = "block";
          }

          // When the user clicks on <span> (x), close the modal
          span.onclick = function () {
            modal.style.display = "none";
          }

          // When the user clicks anywhere outside of the modal, close it
          window.onclick = function (event) {
            if (event.target == modal) {
              modal.style.display = "none";
            }
          }
        });
      </script>

      <!-- ====================== END VIEW APPLICATIONS =======================-->



      <!-- ====================== NOTIFICATIONS =======================-->
      <div id="notifications" style="display: none;">
        <h2>Notifications</h2>
        <div class="notificationtbl">
          <table>
            <thead>
              <tr>
                <th colspan="2">Recent</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <div class="notification">
                    <div class="logo">
                      <img src="../../images/jobseeker/PESO LOGO NEW.png" alt="Logo">
                    </div>
                    <div class="notificationcontent">
                      <div class="header1">
                        <div>
                          <h3>PESO - Admin</h3>
                          <h4>Referral Slip</h4>
                        </div>
                        <span class="time">21m ago</span>
                      </div>
                      <p class="message">PESO-Gensan released your Referral Slip for the job "Website Builder"</p>
                    </div>
                  </div>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="notification">
                    <div class="logo">
                      <img src="../../images/jobseeker/PESO LOGO NEW.png" alt="Logo">
                    </div>
                    <div class="notificationcontent">
                      <div class="header1">
                        <div>
                          <h3>PESO - Admin</h3>
                          <h4>Referral Slip</h4>
                        </div>
                        <span class="time">21m ago</span>
                      </div>
                      <p class="message">PESO-Gensan released your Referral Slip for the job "Website Builder"</p>
                    </div>
                  </div>
                </td>
              </tr>
              <thead>
                <tr>
                  <th colspan="2">Old</th>
                </tr>
              </thead>
              <tr>
                <td colspan="2">
                  <div class="notification">
                    <div class="logo">
                      <img src="../../images/jobseeker/PESO LOGO NEW.png" alt="Logo">
                    </div>
                    <div class="notificationcontent">
                      <div class="header1">
                        <div>
                          <h3>PESO - Admin</h3>
                          <h4>NSRP Form</h4>
                        </div>
                        <span class="time">2 days ago</span>
                      </div>
                      <p class="message">Paki fill-out sa imong form. Salamat</p>
                    </div>
                  </div>
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <div class="notification">
                    <div class="logo">
                      <img src="../../images/jobseeker/PESO LOGO NEW.png" alt="Logo">
                    </div>
                    <div class="notificationcontent">
                      <div class="header1">
                        <div>
                          <h3>PESO - Admin</h3>
                          <h4>NSRP Form</h4>
                        </div>
                        <span class="time">2 days ago</span>
                      </div>
                      <p class="message">Paki fill-out sa imong form. Salamat</p>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- ====================== END NOTIFICATIONS =======================-->
      <!-- ====================== RECENT VISITED =======================-->
      <div id="recent" style="display: none;">
        <h2>My Applications</h2>
        <div class="table-container">
          <table id="recentjobs" class="display" style="width:100%">
            <thead>
              <tr>
                <th>Job Title/Position</th>
                <th>Company</th>
                <th>Location</th>
                <th>Salary</th>
              </tr>

            </thead>
            <tbody>

              <tr onclick="window.location='jobseeker_searchjob.html';">
                <td>Computer Programmer</td>
                <td>ABC Comany</td>
                <td>Manila, Philippines</td>
                <td>₱80,000 - ₱100,000 per year</td>

              </tr>
              <tr onclick="window.location='jobseeker_searchjob.html';">
                <td>Software Engineer</td>
                <td>ABC Company</td>
                <td>Manila, Philippines</td>
                <td>₱80,000 - ₱100,000 per year</td>


              </tr>

            </tbody>
          </table>

        </div>
      </div>

      <!-- ====================== END RECENT VISITED =======================-->

    </div>
  </div>
  <!-- ====================== END DASHBOARD =======================-->


  <footer class="footer">
    <div class="row">
      <div class="column">
        <h4>Job Seekers</h4>
        <p><a href="#">Job Search</a></p>
        <p><a href="#">Profile</a></p>
        <p><a href="#">Recommended jobs</a></p>
        <p><a href="#">Job Applications</a></p>
      </div>
      <div class="column">
        <h4>Employers</h4>
        <p><a href="#">Register for free</a></p>
        <p><a href="#">Post a Job ad</a></p>
        <p><a href="#">Customer Service</a></p>
      </div>
      <div class="column">
        <h4>About PESO Gensan</h4>
        <p><a href="#">About Us</a></p>
        <p><a href="#">Partner Services</a></p>
      </div>
      <div class="column">
        <h4>Contact</h4>
        <p><a href="#">Help Centre</a></p>
        <p><a href="#">Contact Us</a></p>
      </div>
    </div>
    <div class="line"></div>
    <div class="row">
      <!-- Footer links and copyright text -->
      <div class="footer-links">
        <a href="#">Privacy Policy</a>
        <a href="#">Terms & Conditions</a>
        <a href="#">Safe Job Search Guide</a>
      </div>
      <div class="copyright">
        <p>Copyright &copy; 2024 PESO JobPortal</p>
      </div>
    </div>
  </footer>



  <!--=============== MAIN JS ===============-->
  <!--=============== MAIN JS ===============-->
  <script src="../../controller/jobseeker/main.js"></script>

  <script>
    // JavaScript to handle page navigation
    document.querySelectorAll('.sidebar ul li a').forEach(link => {
      link.addEventListener('click', function (event) {
        event.preventDefault();
        const targetId = this.getAttribute('href').substring(1);
        document.querySelectorAll('.content > div').forEach(page => {
          page.style.display = 'none';
        });
        document.getElementById(targetId).style.display = 'block';
        // Store the active section in local storage
        localStorage.setItem("activeSection", targetId);
      });
    });

    Swal.zIndex = 10000;
    // Add event listener to the update button
    document.getElementById('updateButton').addEventListener('click', function () {
      // Close the modal first
      document.getElementById('changeRoleAdmin').style.display = 'none';

      // Display SweetAlert confirmation dialog after a short delay to ensure the modal is closed
      setTimeout(function () {
        Swal.fire({
          title: 'Are you sure?',
          text: 'You are about to update the user\'s role.',
          icon: 'warning',
          showCancelButton: true,
          confirmButtonColor: '#3085d6',
          cancelButtonColor: '#d33',
          confirmButtonText: 'Yes, update it!'
        }).then((result) => {
          // If user confirms, you can proceed with the update action
          if (result.isConfirmed) {
            Swal.fire(
              'Approved!',
              'Update action has been confirmed',
              'success'
            );

          } else {
            document.getElementById('changeRoleAdmin').style.display = 'block';

          }
        });
      },); // Adjust the delay as needed
    });
    // Get all elements with class "view-user" or "view-button" inside the "Employer" tab
    var employerViewButtons = document.querySelectorAll("#settings .view-button");

    // Loop through each button to attach modal functionality
    employerViewButtons.forEach(function (button) {
      // When the user clicks the button, open the corresponding modal
      button.addEventListener("click", function () {
        // Get the modal ID from the button's data-modal attribute
        var modalId = button.dataset.modal;
        // Get the modal corresponding to the button
        var modal = document.getElementById(modalId);
        // Display the modal
        modal.style.display = "block";
      });
    });

    // Close the modal when the user clicks on <span> (x) or outside of it
    var modals = document.querySelectorAll(".custom-modal");
    modals.forEach(function (modal) {
      var span = modal.querySelector(".close");
      span.addEventListener("click", function () {
        modal.style.display = "none";
      });
      window.addEventListener("click", function (event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      });
    });

    $(document).ready(function () {
      var minDate = new DateTime('#min', {
        format: 'MMMM Do YYYY'
      });
      var maxDate = new DateTime('#max', {
        format: 'MMMM Do YYYY'
      });

      var table = $('#auditlogs').DataTable({
        dom: 'Bfrtip',
        buttons: [{
          extend: 'copyHtml5',
          exportOptions: {
            columns: [0, 1, 2, 3, 4]
          }
        },
        {
          extend: 'excelHtml5',
          exportOptions: {
            columns: ':visible'
          }
        },
        {
          extend: 'pdfHtml5',
          exportOptions: {
            columns: [0, 1, 2, 3, 4]
          }
        },
          'colvis',
        {
          extend: 'pageLength',
        }
        ]
      });

      $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
        var min = minDate.val();
        var max = maxDate.val();
        var date = new Date(data[4]);

        if (min && max) {
          return (min <= date && date <= max);
        } else {
          return true; // Display all rows when date range is not specified
        }
      });

      $('#min, #max').on('change', function () {
        table.draw();
      });
    });


    // Function to set the active section on page load
    document.addEventListener("DOMContentLoaded", function () {
      var activeSection = localStorage.getItem("activeSection");
      if (activeSection) {
        var section = document.getElementById(activeSection);
        if (section) {
          section.style.display = 'block';
        }
        // Hide the dashboard section if it's not the active section
        if (activeSection !== 'dashboard') {
          var dashboardSection = document.getElementById('dashboard');
          if (dashboardSection) {
            dashboardSection.style.display = 'none';
          }
        }
      } else {
        // If no active section is stored, show the default section
        var defaultSection = document.getElementById('recent');
        if (defaultSection) {
          defaultSection.style.display = 'block';
        }
      }
    });




  </script>

</body>

</html>